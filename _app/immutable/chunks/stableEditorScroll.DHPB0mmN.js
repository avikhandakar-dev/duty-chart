import{R as a,P as u,q as h}from"./editorContextKeys.Cdn_dJhV.js";class s extends a{constructor(t,e,i,n){super(t,e,i,n),this.selectionStartLineNumber=t,this.selectionStartColumn=e,this.positionLineNumber=i,this.positionColumn=n}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(t){return s.selectionsEqual(this,t)}static selectionsEqual(t,e){return t.selectionStartLineNumber===e.selectionStartLineNumber&&t.selectionStartColumn===e.selectionStartColumn&&t.positionLineNumber===e.positionLineNumber&&t.positionColumn===e.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(t,e){return this.getDirection()===0?new s(this.startLineNumber,this.startColumn,t,e):new s(t,e,this.startLineNumber,this.startColumn)}getPosition(){return new u(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new u(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(t,e){return this.getDirection()===0?new s(t,e,this.endLineNumber,this.endColumn):new s(this.endLineNumber,this.endColumn,t,e)}static fromPositions(t,e=t){return new s(t.lineNumber,t.column,e.lineNumber,e.column)}static fromRange(t,e){return e===0?new s(t.startLineNumber,t.startColumn,t.endLineNumber,t.endColumn):new s(t.endLineNumber,t.endColumn,t.startLineNumber,t.startColumn)}static liftSelection(t){return new s(t.selectionStartLineNumber,t.selectionStartColumn,t.positionLineNumber,t.positionColumn)}static selectionsArrEqual(t,e){if(t&&!e||!t&&e)return!1;if(!t&&!e)return!0;if(t.length!==e.length)return!1;for(let i=0,n=t.length;i<n;i++)if(!this.selectionsEqual(t[i],e[i]))return!1;return!0}static isISelection(t){return t&&typeof t.selectionStartLineNumber=="number"&&typeof t.selectionStartColumn=="number"&&typeof t.positionLineNumber=="number"&&typeof t.positionColumn=="number"}static createWithDirection(t,e,i,n,o){return o===0?new s(t,e,i,n):new s(i,n,t,e)}}class c{constructor(t,e=[],i=!1){this.ctor=t,this.staticArguments=e,this.supportsDelayedInstantiation=i}}const m=[];function f(r,t,e){t instanceof c||(t=new c(t,[],!!e)),m.push([r,t])}function p(){return m}class S{static insert(t,e){return{range:new a(t.lineNumber,t.column,t.lineNumber,t.column),text:e,forceMoveMarkers:!0}}static delete(t){return{range:t,text:null}}static replace(t,e){return{range:t,text:e}}static replaceMove(t,e){return{range:t,text:e,forceMoveMarkers:!0}}}const b=h("editorWorkerService"),C={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"};class l{static capture(t){if(t.getScrollTop()===0||t.hasPendingScrollAnimation())return new l(t.getScrollTop(),t.getContentHeight(),null,0,null);let e=null,i=0;const n=t.getVisibleRanges();if(n.length>0){e=n[0].getStartPosition();const o=t.getTopForPosition(e.lineNumber,e.column);i=t.getScrollTop()-o}return new l(t.getScrollTop(),t.getContentHeight(),e,i,t.getPosition())}constructor(t,e,i,n,o){this._initialScrollTop=t,this._initialContentHeight=e,this._visiblePosition=i,this._visiblePositionScrollDelta=n,this._cursorPosition=o}restore(t){if(!(this._initialContentHeight===t.getContentHeight()&&this._initialScrollTop===t.getScrollTop())&&this._visiblePosition){const e=t.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);t.setScrollTop(e+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(t){if(this._initialContentHeight===t.getContentHeight()&&this._initialScrollTop===t.getScrollTop())return;const e=t.getPosition();if(!this._cursorPosition||!e)return;const i=t.getTopForLineNumber(e.lineNumber)-t.getTopForLineNumber(this._cursorPosition.lineNumber);t.setScrollTop(t.getScrollTop()+i,1)}}export{S as E,b as I,l as S,s as a,C as b,c,p as g,f as r};
